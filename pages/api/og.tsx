import { ImageResponse } from '@vercel/og'
export const config = {
  runtime: 'experimental-edge',
}

const font = fetch(new URL('../../assets/Satoshi-Medium.ttf', import.meta.url)).then((res) => res.arrayBuffer())

export default async function () {
  const fontData = await font
  return new ImageResponse(
    (
      <div
        style={{
          height: '100%',
          width: '100%',
          display: 'flex',
          flexDirection: 'column',
          flexWrap: 'wrap',
          // alignItems: 'center',
          justifyContent: 'center',
          // backgroundColor: 'white',
          fontFamily: '"Satoshi"',
          backgroundColor: '#212514',
        }}
      >
        <div tw="flex fill-red-500 bg-hunter pl-8">
          <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 623 221">
            <g clip-path="url(#a)" fill="#DE522B">
              <path d="M430.657 103.89c11.437-.315 17.156-.344 28.593.058-3.774-11.192-5.747-16.788-9.864-27.95-7.663 10.99-11.409 16.586-18.757 27.921l.028-.029ZM310.284 79.814c-1.859.259-2.802.373-4.661.632l-.143 62.155c16.441-2.697 52.839-15.209 54.154-37.706 1.43-24.622-29.192-27.836-49.35-25.08ZM191.54 131.697c11.437-.66 17.156-1.148 28.593-2.296a2424.558 2424.558 0 0 0-16.984-28.782c-4.832 12.425-7.148 18.652-11.637 31.078h.028Z" />
              <path d="M0 1.273C14.525 67.36 29.05 133.476 43.575 199.592c173.041 61.41 347.083-40.433 520.124 20.977C583.457 155.83 603.243 91.121 623 26.382 416.677-50.064 206.294 77.691 0 1.273Zm106.735 186.381c-6.519-33.201-13.01-66.431-19.528-99.633-14.61-2.87-21.902-4.677-36.513-9.326-3.059-13.63-4.574-20.431-7.634-34.062 32.252 10.617 65.963 16.242 99.845 17.791 1.887 12.914 2.831 19.4 4.689 32.312-14.353-.516-21.501-1.033-35.855-2.812 5.776 32.771 11.551 65.571 17.299 98.342-8.95-.718-13.41-1.234-22.331-2.612h.028Zm143.706-4.706c-5.233-9.297-7.92-13.975-13.41-23.387-22.559 2.984-33.853 4.218-56.441 5.223-3.603 10.502-5.347 15.725-8.692 26.199-10.866.345-16.298.345-27.192-.057 12.295-43.131 26.534-85.802 43.175-127.468 9.121-.316 13.667-.574 22.788-1.206 23.417 38.023 46.091 76.59 66.906 116.134-10.865 1.894-16.298 2.812-27.191 4.534l.057.028Zm54.554-9.412a5895.557 5895.557 0 0 1-21.73 3.903l-2.659-124.542c14.525-1.75 21.787-2.697 36.312-4.505 30.394-4.42 69.48 9.757 66.706 46.832-3.288 44.221-37.684 70.707-78.6 78.312h-.029Zm170.926-15.955c-2.831-9.527-4.318-14.262-7.377-23.761-22.56-1.262-33.854-.947-56.442.66-6.004 9.843-8.949 14.808-14.696 24.823-10.865 1.119-16.298 1.807-27.191 3.357 21.787-41.896 45.719-82.903 72.824-121.585 9.121.057 13.668.172 22.789.66 14.181 39.342 26.533 78.684 37.284 119.117-10.865-1.808-16.298-2.439-27.191-3.271Zm59.844-.373c-2.202 7.891-8.206 13.745-18.014 11.593-9.607-2.123-11.78-10.331-9.921-17.992 1.887-7.863 7.834-14.722 17.784-12.368 10.179 2.41 12.324 10.875 10.122 18.767h.029Zm4.917-24.134c-10.15-2.927-15.211-4.132-25.361-6.141l20.93-86.26c11.151 2.64 16.726 4.19 27.877 7.863-7.805 28.18-15.611 56.33-23.417 84.51l-.029.028Z" />
            </g>
            <defs>
              <clipPath id="a">
                <path fill="#fff" d="M0 .957h623V220.57H0z" />
              </clipPath>
            </defs>
          </svg>
        </div>
        <div
          tw="flex flex-col w-2/5 absolute left-3/5 bg-hunter h-full justify-center p-10"
          style={{ color: '#DE522B', backgroundColor: '#212514' }}
        >
          <p tw="text-6xl mb-2 text-linen">We're making renting better for everyone.</p>
          <p tw="text-3xl mt-12 mb-0 text-punch uppercase font-bold">Coming soon.</p>
          <p tw="text-4xl mt-0 text-punch">tadarent.com</p>
        </div>
      </div>
    ),
    {
      width: 1200,
      height: 600,
      fonts: [
        {
          name: 'Satoshi',
          data: fontData,
          style: 'normal',
        },
      ],
    },
  )
}
